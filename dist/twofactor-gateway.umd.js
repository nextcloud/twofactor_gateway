(function(e,H){typeof exports=="object"&&typeof module<"u"?H(require("vue"),require("@nextcloud/axios"),require("@nextcloud/router"),require("@nextcloud/l10n"),require("@nextcloud/dialogs")):typeof define=="function"&&define.amd?define(["vue","@nextcloud/axios","@nextcloud/router","@nextcloud/l10n","@nextcloud/dialogs"],H):(e=typeof globalThis<"u"?globalThis:e||self,H(e.Vue,e.NextcloudAxios,e.NextcloudRouter,e.NextcloudL10n,e.NextcloudDialogs))})(this,(function(e,H,v,h,ye){"use strict";function tn(n,o,a){const i=`#initial-state-${n}-${o}`;if(window._nc_initial_state?.has(i))return window._nc_initial_state.get(i);window._nc_initial_state||(window._nc_initial_state=new Map);const r=document.querySelector(i);if(r===null){if(a!==void 0)return a;throw new Error(`Could not find initial state ${o} of ${n}`)}try{const l=JSON.parse(atob(r.value));return window._nc_initial_state.set(i,l),l}catch(l){if(console.error("[@nextcloud/initial-state] Could not parse initial state",{key:o,app:n,error:l}),a!==void 0)return a;throw new Error(`Could not parse initial state ${o} of ${n}`,{cause:l})}}Symbol(process.env.NODE_ENV!=="production"?"navigation failure":""),Symbol(process.env.NODE_ENV!=="production"?"router view location matched":""),Symbol(process.env.NODE_ENV!=="production"?"router view depth":"");const nn=Symbol(process.env.NODE_ENV!=="production"?"router":"");Symbol(process.env.NODE_ENV!=="production"?"route location":""),Symbol(process.env.NODE_ENV!=="production"?"router view location":"");const[on]=window.OC?.config?.version?.split(".")??[],Ee=Number.parseInt(on??"32")<32,se=(n,o)=>{const a=n.__vccOpts||n;for(const[i,r]of o)a[i]=r;return a},an={class:"button-vue__wrapper"},rn={class:"button-vue__icon"},sn={class:"button-vue__text"},le=se(e.defineComponent({__name:"NcButton",props:{alignment:{default:"center"},ariaLabel:{default:void 0},disabled:{type:Boolean},download:{type:[String,Boolean],default:void 0},href:{default:void 0},pressed:{type:Boolean,default:void 0},size:{default:"normal"},target:{default:"_self"},text:{default:void 0},to:{default:void 0},type:{default:"button"},variant:{default:"secondary"},wide:{type:Boolean}},emits:["click","update:pressed"],setup(n,{emit:o}){const a=n,i=o,r=e.inject(nn,null)!==null,l=e.computed(()=>r&&a.to?"RouterLink":a.href?"a":"button"),f=e.computed(()=>l.value==="button"&&typeof a.pressed=="boolean"),u=e.computed(()=>a.pressed?"primary":a.pressed===!1&&a.variant==="primary"?"secondary":a.variant),_=e.computed(()=>u.value.startsWith("tertiary")),E=e.computed(()=>a.alignment.split("-")[0]),y=e.computed(()=>a.alignment.includes("-")),R=e.inject("NcPopover:trigger:attrs",()=>({}),!1),F=e.computed(()=>R()),z=e.computed(()=>{if(l.value==="RouterLink")return{to:a.to,activeClass:"active"};if(l.value==="a")return{href:a.href||"#",target:a.target,rel:"nofollow noreferrer noopener",download:a.download||void 0};if(l.value==="button")return{...F.value,"aria-pressed":a.pressed,type:a.type,disabled:a.disabled}});function N(c){f.value&&i("update:pressed",!a.pressed),i("click",c)}return(c,m)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(l.value),e.mergeProps({class:["button-vue",[`button-vue--size-${c.size}`,{[`button-vue--${u.value}`]:u.value,"button-vue--tertiary":_.value,"button-vue--wide":c.wide,[`button-vue--${E.value}`]:E.value!=="center","button-vue--reverse":y.value,"button-vue--legacy":e.unref(Ee)}]],"aria-label":c.ariaLabel},z.value,{onClick:N}),{default:e.withCtx(()=>[e.createElementVNode("span",an,[e.createElementVNode("span",rn,[e.renderSlot(c.$slots,"icon",{},void 0,!0)]),e.createElementVNode("span",sn,[e.renderSlot(c.$slots,"default",{},()=>[e.createTextVNode(e.toDisplayString(c.text),1)],!0)])])]),_:3},16,["class","aria-label"]))}}),[["__scopeId","data-v-e4697e39"]]),ln=["aria-label"],cn=["width","height"],dn=["fill"],pn=["fill"],fn={key:0},Re=se(e.defineComponent({__name:"NcLoadingIcon",props:{appearance:{default:"auto"},name:{default:""},size:{default:20}},setup(n){const o=n,a=e.computed(()=>{const i=["#777","#CCC"];return o.appearance==="light"?i:o.appearance==="dark"?i.reverse():["var(--color-loading-light)","var(--color-loading-dark)"]});return(i,r)=>(e.openBlock(),e.createElementBlock("span",{"aria-label":i.name,role:"img",class:"material-design-icon loading-icon"},[(e.openBlock(),e.createElementBlock("svg",{width:i.size,height:i.size,viewBox:"0 0 24 24"},[e.createElementVNode("path",{fill:a.value[0],d:"M12,4V2A10,10 0 1,0 22,12H20A8,8 0 1,1 12,4Z"},null,8,dn),e.createElementVNode("path",{fill:a.value[1],d:"M12,4V2A10,10 0 0,1 22,12H20A8,8 0 0,0 12,4Z"},[i.name?(e.openBlock(),e.createElementBlock("title",fn,e.toDisplayString(i.name),1)):e.createCommentVNode("",!0)],8,pn)],8,cn))],8,ln))}}),[["__scopeId","data-v-cf399190"]]);var un="M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z",st="M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z",mn="M23,12L20.56,9.22L20.9,5.54L17.29,4.72L15.4,1.54L12,3L8.6,1.54L6.71,4.72L3.1,5.53L3.44,9.21L1,12L3.44,14.78L3.1,18.47L6.71,19.29L8.6,22.47L12,21L15.4,22.46L17.29,19.28L20.9,18.46L20.56,14.78L23,12M13,17H11V15H13V17M13,13H11V7H13V13Z",gn="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z",lt="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",hn="M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",_n="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",yn="M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",En="M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z";const{entries:ct,setPrototypeOf:dt,isFrozen:Tn,getPrototypeOf:wn,getOwnPropertyDescriptor:An}=Object;let{freeze:I,seal:P,create:Be}=Object,{apply:Ve,construct:xe}=typeof Reflect<"u"&&Reflect;I||(I=function(o){return o}),P||(P=function(o){return o}),Ve||(Ve=function(o,a){for(var i=arguments.length,r=new Array(i>2?i-2:0),l=2;l<i;l++)r[l-2]=arguments[l];return o.apply(a,r)}),xe||(xe=function(o){for(var a=arguments.length,i=new Array(a>1?a-1:0),r=1;r<a;r++)i[r-1]=arguments[r];return new o(...i)});const Te=O(Array.prototype.forEach),bn=O(Array.prototype.lastIndexOf),pt=O(Array.prototype.pop),ce=O(Array.prototype.push),Nn=O(Array.prototype.splice),we=O(String.prototype.toLowerCase),Pe=O(String.prototype.toString),He=O(String.prototype.match),de=O(String.prototype.replace),Sn=O(String.prototype.indexOf),kn=O(String.prototype.trim),U=O(Object.prototype.hasOwnProperty),M=O(RegExp.prototype.test),pe=Cn(TypeError);function O(n){return function(o){o instanceof RegExp&&(o.lastIndex=0);for(var a=arguments.length,i=new Array(a>1?a-1:0),r=1;r<a;r++)i[r-1]=arguments[r];return Ve(n,o,i)}}function Cn(n){return function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return xe(n,a)}}function g(n,o){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:we;dt&&dt(n,null);let i=o.length;for(;i--;){let r=o[i];if(typeof r=="string"){const l=a(r);l!==r&&(Tn(o)||(o[i]=l),r=l)}n[r]=!0}return n}function Ln(n){for(let o=0;o<n.length;o++)U(n,o)||(n[o]=null);return n}function W(n){const o=Be(null);for(const[a,i]of ct(n))U(n,a)&&(Array.isArray(i)?o[a]=Ln(i):i&&typeof i=="object"&&i.constructor===Object?o[a]=W(i):o[a]=i);return o}function fe(n,o){for(;n!==null;){const i=An(n,o);if(i){if(i.get)return O(i.get);if(typeof i.value=="function")return O(i.value)}n=wn(n)}function a(){return null}return a}const ft=I(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ue=I(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Fe=I(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Dn=I(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ze=I(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),In=I(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ut=I(["#text"]),mt=I(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),$e=I(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),gt=I(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ae=I(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Mn=P(/\{\{[\w\W]*|[\w\W]*\}\}/gm),On=P(/<%[\w\W]*|[\w\W]*%>/gm),Rn=P(/\$\{[\w\W]*/gm),Bn=P(/^data-[\-\w.\u00B7-\uFFFF]+$/),Vn=P(/^aria-[\-\w]+$/),ht=P(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),xn=P(/^(?:\w+script|data):/i),Pn=P(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),_t=P(/^html$/i),Hn=P(/^[a-z][.\w]*(-[.\w]+)+$/i);var yt=Object.freeze({__proto__:null,ARIA_ATTR:Vn,ATTR_WHITESPACE:Pn,CUSTOM_ELEMENT:Hn,DATA_ATTR:Bn,DOCTYPE_NAME:_t,ERB_EXPR:On,IS_ALLOWED_URI:ht,IS_SCRIPT_OR_DATA:xn,MUSTACHE_EXPR:Mn,TMPLIT_EXPR:Rn});const ue={element:1,text:3,progressingInstruction:7,comment:8,document:9},Un=function(){return typeof window>"u"?null:window},Fn=function(o,a){if(typeof o!="object"||typeof o.createPolicy!="function")return null;let i=null;const r="data-tt-policy-suffix";a&&a.hasAttribute(r)&&(i=a.getAttribute(r));const l="dompurify"+(i?"#"+i:"");try{return o.createPolicy(l,{createHTML(f){return f},createScriptURL(f){return f}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}},Et=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Tt(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Un();const o=p=>Tt(p);if(o.version="3.3.0",o.removed=[],!n||!n.document||n.document.nodeType!==ue.document||!n.Element)return o.isSupported=!1,o;let{document:a}=n;const i=a,r=i.currentScript,{DocumentFragment:l,HTMLTemplateElement:f,Node:u,Element:_,NodeFilter:E,NamedNodeMap:y=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:R,DOMParser:F,trustedTypes:z}=n,N=_.prototype,c=fe(N,"cloneNode"),m=fe(N,"remove"),x=fe(N,"nextSibling"),Se=fe(N,"childNodes"),X=fe(N,"parentNode");if(typeof f=="function"){const p=a.createElement("template");p.content&&p.content.ownerDocument&&(a=p.content.ownerDocument)}let w,J="";const{implementation:Ye,createNodeIterator:oa,createDocumentFragment:aa,getElementsByTagName:ia}=a,{importNode:ra}=i;let B=Et();o.isSupported=typeof ct=="function"&&typeof X=="function"&&Ye&&Ye.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ve,ERB_EXPR:qe,TMPLIT_EXPR:Xe,DATA_ATTR:sa,ARIA_ATTR:la,IS_SCRIPT_OR_DATA:ca,ATTR_WHITESPACE:It,CUSTOM_ELEMENT:da}=yt;let{IS_ALLOWED_URI:Mt}=yt,S=null;const Ot=g({},[...ft,...Ue,...Fe,...ze,...ut]);let C=null;const Rt=g({},[...mt,...$e,...gt,...Ae]);let A=Object.seal(Be(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ge=null,Ze=null;const Q=Object.seal(Be(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Bt=!0,Ke=!0,Vt=!1,xt=!0,ee=!1,ke=!0,Z=!1,Je=!1,Qe=!1,te=!1,Ce=!1,Le=!1,Pt=!0,Ht=!1;const pa="user-content-";let et=!0,he=!1,ne={},oe=null;const Ut=g({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ft=null;const zt=g({},["audio","video","img","source","image","track"]);let tt=null;const $t=g({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),De="http://www.w3.org/1998/Math/MathML",Ie="http://www.w3.org/2000/svg",G="http://www.w3.org/1999/xhtml";let ae=G,nt=!1,ot=null;const fa=g({},[De,Ie,G],Pe);let Me=g({},["mi","mo","mn","ms","mtext"]),Oe=g({},["annotation-xml"]);const ua=g({},["title","style","font","a","script"]);let _e=null;const ma=["application/xhtml+xml","text/html"],ga="text/html";let k=null,ie=null;const ha=a.createElement("form"),Wt=function(t){return t instanceof RegExp||t instanceof Function},at=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ie&&ie===t)){if((!t||typeof t!="object")&&(t={}),t=W(t),_e=ma.indexOf(t.PARSER_MEDIA_TYPE)===-1?ga:t.PARSER_MEDIA_TYPE,k=_e==="application/xhtml+xml"?Pe:we,S=U(t,"ALLOWED_TAGS")?g({},t.ALLOWED_TAGS,k):Ot,C=U(t,"ALLOWED_ATTR")?g({},t.ALLOWED_ATTR,k):Rt,ot=U(t,"ALLOWED_NAMESPACES")?g({},t.ALLOWED_NAMESPACES,Pe):fa,tt=U(t,"ADD_URI_SAFE_ATTR")?g(W($t),t.ADD_URI_SAFE_ATTR,k):$t,Ft=U(t,"ADD_DATA_URI_TAGS")?g(W(zt),t.ADD_DATA_URI_TAGS,k):zt,oe=U(t,"FORBID_CONTENTS")?g({},t.FORBID_CONTENTS,k):Ut,ge=U(t,"FORBID_TAGS")?g({},t.FORBID_TAGS,k):W({}),Ze=U(t,"FORBID_ATTR")?g({},t.FORBID_ATTR,k):W({}),ne=U(t,"USE_PROFILES")?t.USE_PROFILES:!1,Bt=t.ALLOW_ARIA_ATTR!==!1,Ke=t.ALLOW_DATA_ATTR!==!1,Vt=t.ALLOW_UNKNOWN_PROTOCOLS||!1,xt=t.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ee=t.SAFE_FOR_TEMPLATES||!1,ke=t.SAFE_FOR_XML!==!1,Z=t.WHOLE_DOCUMENT||!1,te=t.RETURN_DOM||!1,Ce=t.RETURN_DOM_FRAGMENT||!1,Le=t.RETURN_TRUSTED_TYPE||!1,Qe=t.FORCE_BODY||!1,Pt=t.SANITIZE_DOM!==!1,Ht=t.SANITIZE_NAMED_PROPS||!1,et=t.KEEP_CONTENT!==!1,he=t.IN_PLACE||!1,Mt=t.ALLOWED_URI_REGEXP||ht,ae=t.NAMESPACE||G,Me=t.MATHML_TEXT_INTEGRATION_POINTS||Me,Oe=t.HTML_INTEGRATION_POINTS||Oe,A=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&Wt(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(A.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&Wt(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(A.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(A.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ee&&(Ke=!1),Ce&&(te=!0),ne&&(S=g({},ut),C=[],ne.html===!0&&(g(S,ft),g(C,mt)),ne.svg===!0&&(g(S,Ue),g(C,$e),g(C,Ae)),ne.svgFilters===!0&&(g(S,Fe),g(C,$e),g(C,Ae)),ne.mathMl===!0&&(g(S,ze),g(C,gt),g(C,Ae))),t.ADD_TAGS&&(typeof t.ADD_TAGS=="function"?Q.tagCheck=t.ADD_TAGS:(S===Ot&&(S=W(S)),g(S,t.ADD_TAGS,k))),t.ADD_ATTR&&(typeof t.ADD_ATTR=="function"?Q.attributeCheck=t.ADD_ATTR:(C===Rt&&(C=W(C)),g(C,t.ADD_ATTR,k))),t.ADD_URI_SAFE_ATTR&&g(tt,t.ADD_URI_SAFE_ATTR,k),t.FORBID_CONTENTS&&(oe===Ut&&(oe=W(oe)),g(oe,t.FORBID_CONTENTS,k)),et&&(S["#text"]=!0),Z&&g(S,["html","head","body"]),S.table&&(g(S,["tbody"]),delete ge.tbody),t.TRUSTED_TYPES_POLICY){if(typeof t.TRUSTED_TYPES_POLICY.createHTML!="function")throw pe('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof t.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw pe('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=t.TRUSTED_TYPES_POLICY,J=w.createHTML("")}else w===void 0&&(w=Fn(z,r)),w!==null&&typeof J=="string"&&(J=w.createHTML(""));I&&I(t),ie=t}},Gt=g({},[...Ue,...Fe,...Dn]),jt=g({},[...ze,...In]),_a=function(t){let s=X(t);(!s||!s.tagName)&&(s={namespaceURI:ae,tagName:"template"});const d=we(t.tagName),T=we(s.tagName);return ot[t.namespaceURI]?t.namespaceURI===Ie?s.namespaceURI===G?d==="svg":s.namespaceURI===De?d==="svg"&&(T==="annotation-xml"||Me[T]):!!Gt[d]:t.namespaceURI===De?s.namespaceURI===G?d==="math":s.namespaceURI===Ie?d==="math"&&Oe[T]:!!jt[d]:t.namespaceURI===G?s.namespaceURI===Ie&&!Oe[T]||s.namespaceURI===De&&!Me[T]?!1:!jt[d]&&(ua[d]||!Gt[d]):!!(_e==="application/xhtml+xml"&&ot[t.namespaceURI]):!1},$=function(t){ce(o.removed,{element:t});try{X(t).removeChild(t)}catch{m(t)}},K=function(t,s){try{ce(o.removed,{attribute:s.getAttributeNode(t),from:s})}catch{ce(o.removed,{attribute:null,from:s})}if(s.removeAttribute(t),t==="is")if(te||Ce)try{$(s)}catch{}else try{s.setAttribute(t,"")}catch{}},Yt=function(t){let s=null,d=null;if(Qe)t="<remove></remove>"+t;else{const b=He(t,/^[\r\n\t ]+/);d=b&&b[0]}_e==="application/xhtml+xml"&&ae===G&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const T=w?w.createHTML(t):t;if(ae===G)try{s=new F().parseFromString(T,_e)}catch{}if(!s||!s.documentElement){s=Ye.createDocument(ae,"template",null);try{s.documentElement.innerHTML=nt?J:T}catch{}}const D=s.body||s.documentElement;return t&&d&&D.insertBefore(a.createTextNode(d),D.childNodes[0]||null),ae===G?ia.call(s,Z?"html":"body")[0]:Z?s.documentElement:D},vt=function(t){return oa.call(t.ownerDocument||t,t,E.SHOW_ELEMENT|E.SHOW_COMMENT|E.SHOW_TEXT|E.SHOW_PROCESSING_INSTRUCTION|E.SHOW_CDATA_SECTION,null)},it=function(t){return t instanceof R&&(typeof t.nodeName!="string"||typeof t.textContent!="string"||typeof t.removeChild!="function"||!(t.attributes instanceof y)||typeof t.removeAttribute!="function"||typeof t.setAttribute!="function"||typeof t.namespaceURI!="string"||typeof t.insertBefore!="function"||typeof t.hasChildNodes!="function")},qt=function(t){return typeof u=="function"&&t instanceof u};function j(p,t,s){Te(p,d=>{d.call(o,t,s,ie)})}const Xt=function(t){let s=null;if(j(B.beforeSanitizeElements,t,null),it(t))return $(t),!0;const d=k(t.nodeName);if(j(B.uponSanitizeElement,t,{tagName:d,allowedTags:S}),ke&&t.hasChildNodes()&&!qt(t.firstElementChild)&&M(/<[/\w!]/g,t.innerHTML)&&M(/<[/\w!]/g,t.textContent)||t.nodeType===ue.progressingInstruction||ke&&t.nodeType===ue.comment&&M(/<[/\w]/g,t.data))return $(t),!0;if(!(Q.tagCheck instanceof Function&&Q.tagCheck(d))&&(!S[d]||ge[d])){if(!ge[d]&&Kt(d)&&(A.tagNameCheck instanceof RegExp&&M(A.tagNameCheck,d)||A.tagNameCheck instanceof Function&&A.tagNameCheck(d)))return!1;if(et&&!oe[d]){const T=X(t)||t.parentNode,D=Se(t)||t.childNodes;if(D&&T){const b=D.length;for(let V=b-1;V>=0;--V){const Y=c(D[V],!0);Y.__removalCount=(t.__removalCount||0)+1,T.insertBefore(Y,x(t))}}}return $(t),!0}return t instanceof _&&!_a(t)||(d==="noscript"||d==="noembed"||d==="noframes")&&M(/<\/no(script|embed|frames)/i,t.innerHTML)?($(t),!0):(ee&&t.nodeType===ue.text&&(s=t.textContent,Te([ve,qe,Xe],T=>{s=de(s,T," ")}),t.textContent!==s&&(ce(o.removed,{element:t.cloneNode()}),t.textContent=s)),j(B.afterSanitizeElements,t,null),!1)},Zt=function(t,s,d){if(Pt&&(s==="id"||s==="name")&&(d in a||d in ha))return!1;if(!(Ke&&!Ze[s]&&M(sa,s))){if(!(Bt&&M(la,s))){if(!(Q.attributeCheck instanceof Function&&Q.attributeCheck(s,t))){if(!C[s]||Ze[s]){if(!(Kt(t)&&(A.tagNameCheck instanceof RegExp&&M(A.tagNameCheck,t)||A.tagNameCheck instanceof Function&&A.tagNameCheck(t))&&(A.attributeNameCheck instanceof RegExp&&M(A.attributeNameCheck,s)||A.attributeNameCheck instanceof Function&&A.attributeNameCheck(s,t))||s==="is"&&A.allowCustomizedBuiltInElements&&(A.tagNameCheck instanceof RegExp&&M(A.tagNameCheck,d)||A.tagNameCheck instanceof Function&&A.tagNameCheck(d))))return!1}else if(!tt[s]){if(!M(Mt,de(d,It,""))){if(!((s==="src"||s==="xlink:href"||s==="href")&&t!=="script"&&Sn(d,"data:")===0&&Ft[t])){if(!(Vt&&!M(ca,de(d,It,"")))){if(d)return!1}}}}}}}return!0},Kt=function(t){return t!=="annotation-xml"&&He(t,da)},Jt=function(t){j(B.beforeSanitizeAttributes,t,null);const{attributes:s}=t;if(!s||it(t))return;const d={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:C,forceKeepAttr:void 0};let T=s.length;for(;T--;){const D=s[T],{name:b,namespaceURI:V,value:Y}=D,re=k(b),rt=Y;let L=b==="value"?rt:kn(rt);if(d.attrName=re,d.attrValue=L,d.keepAttr=!0,d.forceKeepAttr=void 0,j(B.uponSanitizeAttribute,t,d),L=d.attrValue,Ht&&(re==="id"||re==="name")&&(K(b,t),L=pa+L),ke&&M(/((--!?|])>)|<\/(style|title|textarea)/i,L)){K(b,t);continue}if(re==="attributename"&&He(L,"href")){K(b,t);continue}if(d.forceKeepAttr)continue;if(!d.keepAttr){K(b,t);continue}if(!xt&&M(/\/>/i,L)){K(b,t);continue}ee&&Te([ve,qe,Xe],en=>{L=de(L,en," ")});const Qt=k(t.nodeName);if(!Zt(Qt,re,L)){K(b,t);continue}if(w&&typeof z=="object"&&typeof z.getAttributeType=="function"&&!V)switch(z.getAttributeType(Qt,re)){case"TrustedHTML":{L=w.createHTML(L);break}case"TrustedScriptURL":{L=w.createScriptURL(L);break}}if(L!==rt)try{V?t.setAttributeNS(V,b,L):t.setAttribute(b,L),it(t)?$(t):pt(o.removed)}catch{K(b,t)}}j(B.afterSanitizeAttributes,t,null)},ya=function p(t){let s=null;const d=vt(t);for(j(B.beforeSanitizeShadowDOM,t,null);s=d.nextNode();)j(B.uponSanitizeShadowNode,s,null),Xt(s),Jt(s),s.content instanceof l&&p(s.content);j(B.afterSanitizeShadowDOM,t,null)};return o.sanitize=function(p){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=null,d=null,T=null,D=null;if(nt=!p,nt&&(p="<!-->"),typeof p!="string"&&!qt(p))if(typeof p.toString=="function"){if(p=p.toString(),typeof p!="string")throw pe("dirty is not a string, aborting")}else throw pe("toString is not a function");if(!o.isSupported)return p;if(Je||at(t),o.removed=[],typeof p=="string"&&(he=!1),he){if(p.nodeName){const Y=k(p.nodeName);if(!S[Y]||ge[Y])throw pe("root node is forbidden and cannot be sanitized in-place")}}else if(p instanceof u)s=Yt("<!---->"),d=s.ownerDocument.importNode(p,!0),d.nodeType===ue.element&&d.nodeName==="BODY"||d.nodeName==="HTML"?s=d:s.appendChild(d);else{if(!te&&!ee&&!Z&&p.indexOf("<")===-1)return w&&Le?w.createHTML(p):p;if(s=Yt(p),!s)return te?null:Le?J:""}s&&Qe&&$(s.firstChild);const b=vt(he?p:s);for(;T=b.nextNode();)Xt(T),Jt(T),T.content instanceof l&&ya(T.content);if(he)return p;if(te){if(Ce)for(D=aa.call(s.ownerDocument);s.firstChild;)D.appendChild(s.firstChild);else D=s;return(C.shadowroot||C.shadowrootmode)&&(D=ra.call(i,D,!0)),D}let V=Z?s.outerHTML:s.innerHTML;return Z&&S["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&M(_t,s.ownerDocument.doctype.name)&&(V="<!DOCTYPE "+s.ownerDocument.doctype.name+`>
`+V),ee&&Te([ve,qe,Xe],Y=>{V=de(V,Y," ")}),w&&Le?w.createHTML(V):V},o.setConfig=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};at(p),Je=!0},o.clearConfig=function(){ie=null,Je=!1},o.isValidAttribute=function(p,t,s){ie||at({});const d=k(p),T=k(t);return Zt(d,T,s)},o.addHook=function(p,t){typeof t=="function"&&ce(B[p],t)},o.removeHook=function(p,t){if(t!==void 0){const s=bn(B[p],t);return s===-1?void 0:Nn(B[p],s,1)[0]}return pt(B[p])},o.removeHooks=function(p){B[p]=[]},o.removeAllHooks=function(){B=Et()},o}var We=Tt();function zn(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ge,wt;function $n(){if(wt)return Ge;wt=1;var n=/["'&<>]/;Ge=o;function o(a){var i=""+a,r=n.exec(i);if(!r)return i;var l,f="",u=0,_=0;for(u=r.index;u<i.length;u++){switch(i.charCodeAt(u)){case 34:l="&quot;";break;case 38:l="&amp;";break;case 39:l="&#39;";break;case 60:l="&lt;";break;case 62:l="&gt;";break;default:continue}_!==u&&(f+=i.substring(_,u)),_=u+1,f+=l}return _!==u?f+i.substring(_,u):f}return Ge}var Wn=$n();const At=zn(Wn);function bt(){return globalThis._nc_l10n_language}globalThis._nc_l10n_locale??=typeof document<"u"&&document.documentElement.dataset.locale||Intl.DateTimeFormat().resolvedOptions().locale.replaceAll(/-/g,"_"),globalThis._nc_l10n_language??=typeof document<"u"&&document.documentElement.lang||(globalThis.navigator?.language??"en");function Nt(n){return{translations:globalThis._oc_l10n_registry_translations[n]??{},pluralFunction:globalThis._oc_l10n_registry_plural_functions[n]??(o=>o)}}globalThis._oc_l10n_registry_translations??={},globalThis._oc_l10n_registry_plural_functions??={};function be(n,o,a,i,r){const l=typeof a=="object"?a:void 0,f=typeof i=="number"?i:typeof a=="number"?a:void 0,u={escape:!0,sanitize:!0,...typeof r=="object"?r:typeof i=="object"?i:{}},_=c=>c,E=(u.sanitize?We.sanitize:_)||_,y=u.escape?At:_,R=c=>typeof c=="string"||typeof c=="number",F=(c,m,x)=>c.replace(/%n/g,""+x).replace(/{([^{}]*)}/g,(Se,X)=>{if(m===void 0||!(X in m))return y(Se);const w=m[X];return R(w)?y(`${w}`):typeof w=="object"&&R(w.value)?(w.escape!==!1?At:_)(`${w.value}`):y(Se)});let N=(r?.bundle??Nt(n)).translations[o]||o;return N=Array.isArray(N)?N[0]:N,E(typeof l=="object"||f!==void 0?F(N,l,f):N)}function Gn(n,o,a,i,r,l){const f="_"+o+"_::_"+a+"_",u=l?.bundle??Nt(n),_=u.translations[f];if(typeof _<"u"){const E=_;if(Array.isArray(E)){const y=u.pluralFunction(i);return be(n,E[y],r,i,l)}}return i===1?be(n,o,r,i,l):be(n,a,r,i,l)}function jn(n,o=bt()){switch(o==="pt-BR"&&(o="xbr"),o.length>3&&(o=o.substring(0,o.lastIndexOf("-"))),o){case"az":case"bo":case"dz":case"id":case"ja":case"jv":case"ka":case"km":case"kn":case"ko":case"ms":case"th":case"tr":case"vi":case"zh":return 0;case"af":case"bn":case"bg":case"ca":case"da":case"de":case"el":case"en":case"eo":case"es":case"et":case"eu":case"fa":case"fi":case"fo":case"fur":case"fy":case"gl":case"gu":case"ha":case"he":case"hu":case"is":case"it":case"ku":case"lb":case"ml":case"mn":case"mr":case"nah":case"nb":case"ne":case"nl":case"nn":case"no":case"oc":case"om":case"or":case"pa":case"pap":case"ps":case"pt":case"so":case"sq":case"sv":case"sw":case"ta":case"te":case"tk":case"ur":case"zu":return n===1?0:1;case"am":case"bh":case"fil":case"fr":case"gun":case"hi":case"hy":case"ln":case"mg":case"nso":case"xbr":case"ti":case"wa":return n===0||n===1?0:1;case"be":case"bs":case"hr":case"ru":case"sh":case"sr":case"uk":return n%10===1&&n%100!==11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2;case"cs":case"sk":return n===1?0:n>=2&&n<=4?1:2;case"ga":return n===1?0:n===2?1:2;case"lt":return n%10===1&&n%100!==11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2;case"sl":return n%100===1?0:n%100===2?1:n%100===3||n%100===4?2:3;case"mk":return n%10===1?0:1;case"mt":return n===1?0:n===0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3;case"lv":return n===0?0:n%10===1&&n%100!==11?1:2;case"pl":return n===1?0:n%10>=2&&n%10<=4&&(n%100<12||n%100>14)?1:2;case"cy":return n===1?0:n===2?1:n===8||n===11?2:3;case"ro":return n===1?0:n===0||n%100>0&&n%100<20?1:2;case"ar":return n===0?0:n===1?1:n===2?2:n%100>=3&&n%100<=10?3:n%100>=11&&n%100<=99?4:5;default:return 0}}class Yn{bundle;constructor(o){this.bundle={pluralFunction:o,translations:{}}}addTranslations(o){const a=Object.values(o.translations[""]??{}).map(({msgid:i,msgid_plural:r,msgstr:l})=>r!==void 0?[`_${i}_::_${r}_`,l]:[i,l[0]]);this.bundle.translations={...this.bundle.translations,...Object.fromEntries(a)}}gettext(o,a={}){return be("",o,a,void 0,{bundle:this.bundle})}ngettext(o,a,i,r={}){return Gn("",o,a,i,r,{bundle:this.bundle})}}class vn{debug=!1;language="en";translations={};setLanguage(o){return this.language=o,this}detectLocale(){return this.detectLanguage()}detectLanguage(){return this.setLanguage(bt().replace("-","_"))}addTranslation(o,a){return this.translations[o]=a,this}enableDebugMode(){return this.debug=!0,this}build(){this.debug&&console.debug(`Creating gettext instance for language ${this.language}`);const o=new Yn(a=>jn(a,this.language));return this.language in this.translations&&o.addTranslations(this.translations[this.language]),o}}function qn(){return new vn}const St=qn().detectLanguage().build(),je=(...n)=>St.gettext(...n);function Xn(...n){for(const o of n)if(!o.registered){for(const{l:a,t:i}of o){if(a!==h.getLanguage()||!i)continue;const r=Object.fromEntries(Object.entries(i).map(([l,f])=>[l,{msgid:l,msgid_plural:f.p,msgstr:f.v}]));St.addTranslations({translations:{"":r}})}o.registered=!0}}const Zn=["aria-hidden","aria-label"],Kn={key:0,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Jn=["d"],Qn=["innerHTML"],q=se(e.defineComponent({__name:"NcIconSvgWrapper",props:{directional:{type:Boolean},inline:{type:Boolean},svg:{default:""},name:{default:void 0},path:{default:""},size:{default:20}},setup(n){e.useCssVars(r=>({fb515064:a.value}));const o=n,a=e.computed(()=>typeof o.size=="number"?`${o.size}px`:o.size),i=e.computed(()=>{if(!o.svg||o.path)return;const r=We.sanitize(o.svg),l=new DOMParser().parseFromString(r,"image/svg+xml");return l.querySelector("parsererror")?(e.warn("SVG is not valid"),""):(l.documentElement.id&&l.documentElement.removeAttribute("id"),l.documentElement.outerHTML)});return(r,l)=>(e.openBlock(),e.createElementBlock("span",{"aria-hidden":r.name?void 0:"true","aria-label":r.name||void 0,class:e.normalizeClass(["icon-vue",{"icon-vue--directional":r.directional,"icon-vue--inline":r.inline}]),role:"img"},[i.value?(e.openBlock(),e.createElementBlock("span",{key:1,innerHTML:i.value},null,8,Qn)):(e.openBlock(),e.createElementBlock("svg",Kn,[e.createElementVNode("path",{d:r.path},null,8,Jn)]))],10,Zn))}}),[["__scopeId","data-v-aaedb1c3"]]);window._nc_vue_element_id=window._nc_vue_element_id??0;function eo(){return`nc-vue-${window._nc_vue_element_id++}`}const to={class:"input-field__main-wrapper"},no=["id","aria-describedby","disabled","placeholder","type","value"],oo=["for"],ao={class:"input-field__icon input-field__icon--leading"},io={key:2,class:"input-field__icon input-field__icon--trailing"},ro=["id"],kt=se(e.defineComponent({inheritAttrs:!1,__name:"NcInputField",props:e.mergeModels({class:{default:""},inputClass:{default:""},id:{default:()=>eo()},label:{default:void 0},labelOutside:{type:Boolean},type:{default:"text"},placeholder:{default:void 0},showTrailingButton:{type:Boolean},trailingButtonLabel:{default:void 0},success:{type:Boolean},error:{type:Boolean},helperText:{default:""},disabled:{type:Boolean},pill:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:e.mergeModels(["trailingButtonClick"],["update:modelValue"]),setup(n,{expose:o,emit:a}){const i=e.useModel(n,"modelValue"),r=n,l=a;o({focus:F,select:z});const f=e.useAttrs(),u=e.useTemplateRef("input"),_=e.computed(()=>r.showTrailingButton||r.success),E=e.computed(()=>{if(r.placeholder)return r.placeholder;if(r.label)return Ee?r.label:""}),y=e.computed(()=>{const c=r.label||r.labelOutside;return c||e.warn("You need to add a label to the NcInputField component. Either use the prop label or use an external one, as per the example in the documentation."),c}),R=e.computed(()=>{const c=[];return r.helperText&&c.push(`${r.id}-helper-text`),f["aria-describedby"]&&c.push(String(f["aria-describedby"])),c.join(" ")||void 0});function F(c){u.value.focus(c)}function z(){u.value.select()}function N(c){const m=c.target;i.value=r.type==="number"&&typeof i.value=="number"?parseFloat(m.value):m.value}return(c,m)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["input-field",[{"input-field--disabled":c.disabled,"input-field--error":c.error,"input-field--label-outside":c.labelOutside||!y.value,"input-field--leading-icon":!!c.$slots.icon,"input-field--trailing-icon":_.value,"input-field--pill":c.pill,"input-field--success":c.success,"input-field--legacy":e.unref(Ee)},c.$props.class]])},[e.createElementVNode("div",to,[e.createElementVNode("input",e.mergeProps(c.$attrs,{id:c.id,ref:"input","aria-describedby":R.value,"aria-live":"polite",class:["input-field__input",c.inputClass],disabled:c.disabled,placeholder:E.value,type:c.type,value:i.value.toString(),onInput:N}),null,16,no),!c.labelOutside&&y.value?(e.openBlock(),e.createElementBlock("label",{key:0,class:"input-field__label",for:c.id},e.toDisplayString(c.label),9,oo)):e.createCommentVNode("",!0),e.withDirectives(e.createElementVNode("div",ao,[e.renderSlot(c.$slots,"icon",{},void 0,!0)],512),[[e.vShow,!!c.$slots.icon]]),c.showTrailingButton?(e.openBlock(),e.createBlock(e.unref(le),{key:1,class:"input-field__trailing-button","aria-label":c.trailingButtonLabel,disabled:c.disabled,variant:"tertiary-no-background",onClick:m[0]||(m[0]=x=>l("trailingButtonClick",x))},{icon:e.withCtx(()=>[e.renderSlot(c.$slots,"trailing-button-icon",{},void 0,!0)]),_:3},8,["aria-label","disabled"])):c.success||c.error?(e.openBlock(),e.createElementBlock("div",io,[c.success?(e.openBlock(),e.createBlock(e.unref(q),{key:0,path:e.unref(lt)},null,8,["path"])):(e.openBlock(),e.createBlock(e.unref(q),{key:1,path:e.unref(st)},null,8,["path"]))])):e.createCommentVNode("",!0)]),c.helperText?(e.openBlock(),e.createElementBlock("p",{key:0,id:`${c.id}-helper-text`,class:"input-field__helper-text-message"},[c.success?(e.openBlock(),e.createBlock(e.unref(q),{key:0,class:"input-field__helper-text-message__icon",path:e.unref(lt),inline:""},null,8,["path"])):c.error?(e.openBlock(),e.createBlock(e.unref(q),{key:1,class:"input-field__helper-text-message__icon",path:e.unref(st),inline:""},null,8,["path"])):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(c.helperText),1)],8,ro)):e.createCommentVNode("",!0)],2))}}),[["__scopeId","data-v-3487c05a"]]);Xn();const me=e.defineComponent({__name:"NcTextField",props:e.mergeModels({class:{},inputClass:{},id:{},label:{},labelOutside:{type:Boolean},type:{},placeholder:{},showTrailingButton:{type:Boolean},trailingButtonLabel:{default:void 0},success:{type:Boolean},error:{type:Boolean},helperText:{},disabled:{type:Boolean},pill:{type:Boolean},trailingButtonIcon:{default:"close"}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(n,{expose:o}){const a=e.useModel(n,"modelValue"),i=n;o({focus:_,select:E});const r=e.useTemplateRef("inputField"),l={arrowEnd:je("Save changes"),close:je("Clear text"),undo:je("Undo changes")},f=new Set(Object.keys(kt.props)),u=e.computed(()=>{const y=Object.fromEntries(Object.entries(i).filter(([R])=>f.has(R)));return y.trailingButtonLabel??=l[i.trailingButtonIcon],y});function _(y){r.value.focus(y)}function E(){r.value.select()}return(y,R)=>(e.openBlock(),e.createBlock(e.unref(kt),e.mergeProps(u.value,{ref:"inputField",modelValue:a.value,"onUpdate:modelValue":R[0]||(R[0]=F=>a.value=F)}),e.createSlots({_:2},[y.$slots.icon?{name:"icon",fn:e.withCtx(()=>[e.renderSlot(y.$slots,"icon")]),key:"0"}:void 0,y.type!=="search"?{name:"trailing-button-icon",fn:e.withCtx(()=>[y.trailingButtonIcon==="arrowEnd"?(e.openBlock(),e.createBlock(e.unref(q),{key:0,directional:"",path:e.unref(gn)},null,8,["path"])):(e.openBlock(),e.createBlock(e.unref(q),{key:1,path:y.trailingButtonIcon==="undo"?e.unref(En):e.unref(_n)},null,8,["path"]))]),key:"1"}:void 0]),1040,["modelValue"]))}}),Ne=(n,o)=>{const a=n.__vccOpts||n;for(const[i,r]of o)a[i]=r;return a},so={name:"GatewaySettings",components:{NcButton:le,NcLoadingIcon:Re,NcTextField:me},props:{gatewayName:{type:String,required:!0},displayName:{type:String,required:!0},instructions:{type:String,required:!0}},setup(){return{t:h.t}},data(){return{loading:!1,state:0,isAvailable:!1,phoneNumber:"",confirmationCode:"",identifier:"",verificationError:""}},computed:{instructionsHTML(){return We.sanitize(this.instructions,{ADD_ATTR:["target"]})}},mounted(){H.get(v.generateOcsUrl("/apps/twofactor_gateway/settings/{gateway}/verification",{gateway:this.gatewayName})).then(({data:n})=>{console.debug("loaded state for gateway "+this.gatewayName,n),this.state=n.state,this.phoneNumber=n.phoneNumber}).catch(n=>console.info(this.gatewayName+" gateway is not available",n)).finally(()=>{this.loading=!1})},methods:{enable(){this.state=1,this.verificationError="",this.loading=!1},verify(){this.loading=!0,this.verificationError="",H.post(v.generateOcsUrl("/apps/twofactor_gateway/settings/{gateway}/verification/start",{gateway:this.gatewayName}),{identifier:this.identifier}).then(({data:n})=>{this.state=2,this.phoneNumber=n.phoneNumber}).catch(({response:n})=>{console.debug(n.data),this.state=1,this.verificationError=n?.data?.message??""}).finally(()=>{this.loading=!1})},confirm(){this.loading=!0,H.post(v.generateOcsUrl("/apps/twofactor_gateway/settings/{gateway}/verification/finish",{gateway:this.gatewayName}),{verificationCode:this.confirmationCode}).then(()=>{this.state=3}).catch(({response:n})=>{this.state=1,this.verificationError=n?.data?.ocs?.data?.message??""}).finally(()=>{this.loading=!1})},disable(){this.loading=!0,H.delete(v.generateOcsUrl("/apps/twofactor_gateway/settings/{gateway}/verification",{gateway:this.gatewayName})).then(({data:n})=>{this.state=n.state,this.phoneNumber=n.phoneNumber}).catch(console.error.bind(this)).finally(()=>{this.loading=!1})}}},lo={key:1},co={key:0},po=["innerHTML"],fo={key:1},uo=["innerHTML"],mo={key:0},go={key:2},ho={key:3};function _o(n,o,a,i,r,l){const f=e.resolveComponent("NcLoadingIcon"),u=e.resolveComponent("NcButton"),_=e.resolveComponent("NcTextField");return e.openBlock(),e.createElementBlock("div",null,[r.loading?(e.openBlock(),e.createBlock(f,{key:0,size:20})):(e.openBlock(),e.createElementBlock("div",lo,[r.state===0?(e.openBlock(),e.createElementBlock("p",co,[e.createElementVNode("span",{innerHTML:l.instructionsHTML},null,8,po),e.createTextVNode(" "+e.toDisplayString(i.t("twofactor_gateway","You are not using {displayName} for two-factor authentication at the moment.",{displayName:a.displayName}))+" ",1),e.createVNode(u,{onClick:l.enable},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(i.t("twofactor_gateway","Enable")),1)]),_:1},8,["onClick"])])):e.createCommentVNode("",!0),r.state===1?(e.openBlock(),e.createElementBlock("p",fo,[e.createElementVNode("span",{innerHTML:l.instructionsHTML},null,8,uo),r.verificationError.length?(e.openBlock(),e.createElementBlock("strong",mo,e.toDisplayString(i.t("twofactor_gateway","Could not verify your code. Please try again.")),1)):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(i.t("twofactor_gateway","Enter your identification (e.g. phone number to start the verification):"))+" ",1),e.createVNode(_,{modelValue:r.identifier,"onUpdate:modelValue":o[0]||(o[0]=E=>r.identifier=E),class:"input",spellcheck:!1,error:r.verificationError.length>0,"helper-text":r.verificationError},null,8,["modelValue","error","helper-text"]),e.createVNode(u,{onClick:l.verify},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(i.t("twofactor_gateway","Verify")),1)]),_:1},8,["onClick"])])):e.createCommentVNode("",!0),r.state===2?(e.openBlock(),e.createElementBlock("p",go,[e.createTextVNode(e.toDisplayString(i.t("twofactor_gateway","A confirmation code has been sent to {phone}. Please insert the code here:",{phone:r.phoneNumber}))+" ",1),e.createVNode(_,{modelValue:r.confirmationCode,"onUpdate:modelValue":o[1]||(o[1]=E=>r.confirmationCode=E),class:"input",spellcheck:!1},null,8,["modelValue"]),e.createVNode(u,{onClick:l.confirm},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(i.t("twofactor_gateway","Confirm")),1)]),_:1},8,["onClick"])])):e.createCommentVNode("",!0),r.state===3?(e.openBlock(),e.createElementBlock("p",ho,[e.createTextVNode(e.toDisplayString(i.t("twofactor_gateway","Your account was successfully configured to receive messages via {displayName}.",{displayName:a.displayName}))+" ",1),e.createVNode(u,{onClick:l.disable},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(i.t("twofactor_gateway","Disable")),1)]),_:1},8,["onClick"])])):e.createCommentVNode("",!0)]))])}const yo=Ne(so,[["render",_o],["__scopeId","data-v-a1fb3f10"]]),Eo=["role"],To={key:0,class:"notecard__heading"},wo={class:"notecard__text"},Ct=se(e.defineComponent({__name:"NcNoteCard",props:{heading:{default:void 0},showAlert:{type:Boolean},text:{default:void 0},type:{default:"warning"}},setup(n){const o=n,a=e.computed(()=>o.showAlert||o.type==="error"),i=e.computed(()=>{switch(o.type){case"error":return mn;case"success":return hn;case"info":return yn;case"warning":default:return un}});return(r,l)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["notecard",{[`notecard--${r.type}`]:r.type,"notecard--legacy":e.unref(Ee)}]),role:a.value?"alert":"note"},[e.renderSlot(r.$slots,"icon",{},()=>[e.createVNode(e.unref(q),{path:i.value,class:e.normalizeClass(["notecard__icon",{"notecard__icon--heading":r.heading}]),inline:""},null,8,["path","class"])],!0),e.createElementVNode("div",null,[r.heading?(e.openBlock(),e.createElementBlock("p",To,e.toDisplayString(r.heading),1)):e.createCommentVNode("",!0),e.renderSlot(r.$slots,"default",{},()=>[e.createElementVNode("p",wo,e.toDisplayString(r.text),1)],!0)])],10,Eo))}}),[["__scopeId","data-v-7e4656f9"]]),Ao={name:"CheckIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},bo=["aria-hidden","aria-label"],No=["fill","width","height"],So={d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"},ko={key:0};function Co(n,o,a,i,r,l){return e.openBlock(),e.createElementBlock("span",e.mergeProps(n.$attrs,{"aria-hidden":a.title?null:"true","aria-label":a.title,class:"material-design-icon check-icon",role:"img",onClick:o[0]||(o[0]=f=>n.$emit("click",f))}),[(e.openBlock(),e.createElementBlock("svg",{fill:a.fillColor,class:"material-design-icon__svg",width:a.size,height:a.size,viewBox:"0 0 24 24"},[e.createElementVNode("path",So,[a.title?(e.openBlock(),e.createElementBlock("title",ko,e.toDisplayString(a.title),1)):e.createCommentVNode("",!0)])],8,No))],16,bo)}const Lo=Ne(Ao,[["render",Co]]),Do={name:"CheckCircleIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Io=["aria-hidden","aria-label"],Mo=["fill","width","height"],Oo={d:"M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z"},Ro={key:0};function Bo(n,o,a,i,r,l){return e.openBlock(),e.createElementBlock("span",e.mergeProps(n.$attrs,{"aria-hidden":a.title?null:"true","aria-label":a.title,class:"material-design-icon check-circle-icon",role:"img",onClick:o[0]||(o[0]=f=>n.$emit("click",f))}),[(e.openBlock(),e.createElementBlock("svg",{fill:a.fillColor,class:"material-design-icon__svg",width:a.size,height:a.size,viewBox:"0 0 24 24"},[e.createElementVNode("path",Oo,[a.title?(e.openBlock(),e.createElementBlock("title",Ro,e.toDisplayString(a.title),1)):e.createCommentVNode("",!0)])],8,Mo))],16,Io)}const Vo=Ne(Do,[["render",Bo]]),xo={class:"whatsapp-cloud-api-settings"},Po={class:"settings-section"},Ho={class:"field-group"},Uo={for:"phone-number-id"},Fo={class:"field-description"},zo={class:"field-group"},$o={for:"business-account-id"},Wo={class:"field-description"},Go={class:"field-group"},jo={for:"api-key"},Yo={class:"field-description"},vo={class:"field-group"},qo={for:"api-endpoint"},Xo={class:"optional"},Zo={class:"field-description"},Ko={class:"actions"},Jo={key:1,class:"instructions"},Qo={href:"https://business.facebook.com",target:"_blank",rel:"noopener noreferrer"},ea={href:"https://developers.facebook.com/docs/whatsapp/cloud-api/get-started/",target:"_blank",rel:"noopener noreferrer"},ta=Ne(e.defineComponent({__name:"WhatsAppCloudApiSettings",setup(n){const o=e.ref({phoneNumberId:"",businessAccountId:"",apiKey:"",apiEndpoint:""}),a=e.ref({...o.value}),i=e.computed(()=>JSON.stringify(o.value)!==JSON.stringify(a.value)),r=e.ref(!1),l=e.ref(!1),f=e.ref(""),u=e.ref("info"),_=e.computed(()=>o.value.phoneNumberId&&o.value.apiKey&&o.value.businessAccountId),E=e.computed(()=>_.value);function y(){}async function R(){try{const c=await H.get(v.generateOcsUrl("/apps/twofactor_gateway/api/v1/whatsapp/configuration"));if(c.data.ocs?.data){const m=c.data.ocs.data;o.value={phoneNumberId:m.phone_number_id||"",businessAccountId:m.business_account_id||"",apiKey:m.api_key||"",apiEndpoint:m.api_endpoint||""},a.value={...o.value}}}catch(c){console.debug("No configuration found or error loading it",c)}}async function F(){if(E.value){r.value=!0,f.value="";try{await H.post(v.generateOcsUrl("/apps/twofactor_gateway/api/v1/whatsapp/configuration"),{phone_number_id:o.value.phoneNumberId,business_account_id:o.value.businessAccountId,api_key:o.value.apiKey,api_endpoint:o.value.apiEndpoint||"https://graph.facebook.com"}),a.value={...o.value},f.value=h.t("twofactor_gateway","Configuration saved successfully"),u.value="success",ye.showSuccess(h.t("twofactor_gateway","WhatsApp configuration saved"))}catch(c){const m=c.response?.data?.ocs?.meta?.message||h.t("twofactor_gateway","Failed to save configuration");f.value=m,u.value="error",ye.showError(m),console.error("Error saving configuration:",c)}finally{r.value=!1}}}async function z(){if(_.value){l.value=!0,f.value="";try{await H.post(v.generateOcsUrl("/apps/twofactor_gateway/api/v1/whatsapp/test"),{phone_number_id:o.value.phoneNumberId,business_account_id:o.value.businessAccountId,api_key:o.value.apiKey,api_endpoint:o.value.apiEndpoint||"https://graph.facebook.com"}),f.value=h.t("twofactor_gateway","Connection test successful!"),u.value="success",ye.showSuccess(h.t("twofactor_gateway","WhatsApp connection test successful"))}catch(c){const m=c.response?.data?.ocs?.meta?.message||h.t("twofactor_gateway","Connection test failed");f.value=m,u.value="error",ye.showError(m),console.error("Error testing configuration:",c)}finally{l.value=!1}}}function N(){o.value={...a.value},f.value=""}return R(),(c,m)=>(e.openBlock(),e.createElementBlock("div",xo,[e.createElementVNode("h2",null,e.toDisplayString(e.unref(h.t)("twofactor_gateway","WhatsApp Cloud API Configuration")),1),e.createVNode(e.unref(Ct),{type:"info",class:"info-note"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(h.t)("twofactor_gateway","Configure the Meta/Facebook WhatsApp Cloud API to enable two-factor authentication via WhatsApp.")),1)]),_:1}),e.createElementVNode("div",Po,[e.createElementVNode("div",Ho,[e.createElementVNode("label",Uo,[e.createTextVNode(e.toDisplayString(e.unref(h.t)("twofactor_gateway","Phone Number ID"))+" ",1),m[4]||(m[4]=e.createElementVNode("span",{class:"required"},"*",-1))]),e.createElementVNode("p",Fo,e.toDisplayString(e.unref(h.t)("twofactor_gateway","The ID of your WhatsApp phone number from Meta Business Account")),1),e.createVNode(e.unref(me),{id:"phone-number-id",modelValue:o.value.phoneNumberId,"onUpdate:modelValue":[m[0]||(m[0]=x=>o.value.phoneNumberId=x),y],placeholder:e.unref(h.t)("twofactor_gateway","e.g., 1234567890")},null,8,["modelValue","placeholder"])]),e.createElementVNode("div",zo,[e.createElementVNode("label",$o,[e.createTextVNode(e.toDisplayString(e.unref(h.t)("twofactor_gateway","WhatsApp Business Account ID"))+" ",1),m[5]||(m[5]=e.createElementVNode("span",{class:"required"},"*",-1))]),e.createElementVNode("p",Wo,e.toDisplayString(e.unref(h.t)("twofactor_gateway","The ID of your WhatsApp Business Account from Meta Business Manager")),1),e.createVNode(e.unref(me),{id:"business-account-id",modelValue:o.value.businessAccountId,"onUpdate:modelValue":[m[1]||(m[1]=x=>o.value.businessAccountId=x),y],placeholder:e.unref(h.t)("twofactor_gateway","e.g., 1234567890")},null,8,["modelValue","placeholder"])]),e.createElementVNode("div",Go,[e.createElementVNode("label",jo,[e.createTextVNode(e.toDisplayString(e.unref(h.t)("twofactor_gateway","API Access Token"))+" ",1),m[6]||(m[6]=e.createElementVNode("span",{class:"required"},"*",-1))]),e.createElementVNode("p",Yo,e.toDisplayString(e.unref(h.t)("twofactor_gateway","Your Meta Graph API token with whatsapp_business_messaging permission")),1),e.createVNode(e.unref(me),{id:"api-key",modelValue:o.value.apiKey,"onUpdate:modelValue":[m[2]||(m[2]=x=>o.value.apiKey=x),y],placeholder:e.unref(h.t)("twofactor_gateway","Paste your API token here"),type:"password","show-password":""},null,8,["modelValue","placeholder"])]),e.createElementVNode("div",vo,[e.createElementVNode("label",qo,[e.createTextVNode(e.toDisplayString(e.unref(h.t)("twofactor_gateway","API Endpoint"))+" ",1),e.createElementVNode("span",Xo,"("+e.toDisplayString(e.unref(h.t)("twofactor_gateway","optional"))+")",1)]),e.createElementVNode("p",Zo,e.toDisplayString(e.unref(h.t)("twofactor_gateway","Default: https://graph.facebook.com. Change only if using a custom endpoint.")),1),e.createVNode(e.unref(me),{id:"api-endpoint",modelValue:o.value.apiEndpoint,"onUpdate:modelValue":[m[3]||(m[3]=x=>o.value.apiEndpoint=x),y],placeholder:e.unref(h.t)("twofactor_gateway","https://graph.facebook.com")},null,8,["modelValue","placeholder"])])]),e.createElementVNode("div",Ko,[e.createVNode(e.unref(le),{disabled:!i.value||r.value||!E.value,"aria-busy":r.value,onClick:F},{icon:e.withCtx(()=>[r.value?(e.openBlock(),e.createBlock(e.unref(Re),{key:0,size:20})):(e.openBlock(),e.createBlock(Lo,{key:1,size:20}))]),default:e.withCtx(()=>[e.createTextVNode(" "+e.toDisplayString(e.unref(h.t)("twofactor_gateway","Save Configuration")),1)]),_:1},8,["disabled","aria-busy"]),_.value?(e.openBlock(),e.createBlock(e.unref(le),{key:0,type:"tertiary",disabled:r.value,onClick:z},{icon:e.withCtx(()=>[l.value?(e.openBlock(),e.createBlock(e.unref(Re),{key:0,size:20})):(e.openBlock(),e.createBlock(Vo,{key:1,size:20}))]),default:e.withCtx(()=>[e.createTextVNode(" "+e.toDisplayString(e.unref(h.t)("twofactor_gateway","Test Connection")),1)]),_:1},8,["disabled"])):e.createCommentVNode("",!0),i.value?(e.openBlock(),e.createBlock(e.unref(le),{key:1,type:"secondary",disabled:r.value,onClick:N},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(h.t)("twofactor_gateway","Cancel")),1)]),_:1},8,["disabled"])):e.createCommentVNode("",!0)]),f.value?(e.openBlock(),e.createBlock(e.unref(Ct),{key:0,type:u.value,class:"status-message"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(f.value),1)]),_:1},8,["type"])):e.createCommentVNode("",!0),_.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Jo,[e.createElementVNode("h3",null,e.toDisplayString(e.unref(h.t)("twofactor_gateway","How to Configure")),1),e.createElementVNode("ol",null,[e.createElementVNode("li",null,[e.createTextVNode(e.toDisplayString(e.unref(h.t)("twofactor_gateway","Go to Meta Business Manager"))+" ",1),e.createElementVNode("a",Qo,e.toDisplayString(e.unref(h.t)("twofactor_gateway","https://business.facebook.com")),1)]),e.createElementVNode("li",null,e.toDisplayString(e.unref(h.t)("twofactor_gateway","Navigate to WhatsApp Manager  Phone Numbers")),1),e.createElementVNode("li",null,e.toDisplayString(e.unref(h.t)("twofactor_gateway","Copy your Phone Number ID")),1),e.createElementVNode("li",null,e.toDisplayString(e.unref(h.t)("twofactor_gateway","Go to Settings  Business Account  Copy your Account ID")),1),e.createElementVNode("li",null,[e.createTextVNode(e.toDisplayString(e.unref(h.t)("twofactor_gateway","Create a Graph API token in your app settings"))+" ",1),e.createElementVNode("a",ea,e.toDisplayString(e.unref(h.t)("twofactor_gateway","Documentation")),1)]),e.createElementVNode("li",null,e.toDisplayString(e.unref(h.t)("twofactor_gateway","Paste all credentials above and save")),1)])]))]))}}),[["__scopeId","data-v-8150006c"]]),Lt="twofactor-gateway-",na="whatsapp-cloud-api-settings";document.querySelectorAll(`div[id^="${Lt}"]`).forEach(n=>{const o=n.id.slice(Lt.length),a=tn("twofactor_gateway",`settings-${o}`,{name:"",instructions:""});e.createApp(yo,{gatewayName:o,displayName:a.name,instructions:a.instructions||""}).mount(n)});const Dt=document.getElementById(na);Dt&&e.createApp(ta).mount(Dt)}));
